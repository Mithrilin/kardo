CREATE TABLE events (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
  title VARCHAR(250) NOT NULL UNIQUE,
  competition_id BIGINT NOT NULL REFERENCES grand_competitions(id) ON DELETE CASCADE,
  event_start TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  event_end TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  location VARCHAR(250) NOT NULL,
  status VARCHAR(20) NOT NULL,
  logo VARCHAR(250),
  is_main_event BOOLEAN NOT NULL,
  description VARCHAR(5000) NOT NULL
);

CREATE TABLE event_programs (
  event_id BIGINT NOT NULL REFERENCES events(id) ON DELETE CASCADE,
  program VARCHAR(30) NOT NULL,
  PRIMARY KEY (event_id, program)
);

CREATE TABLE event_fields (
  event_id BIGINT NOT NULL REFERENCES events(id) ON DELETE CASCADE,
  field VARCHAR(20) NOT NULL,
  PRIMARY KEY (event_id, field)
);